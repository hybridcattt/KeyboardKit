{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"KeyboardKit adds ways for you to route typed text to other parts of the keyboard."}]},{"anchor":"How-does-text-routing-work","level":2,"type":"heading","text":"How does text routing work?"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UIInputController"},{"type":"text","text":" has a "},{"type":"codeVoice","code":"textDocumentProxy"},{"type":"text","text":", which is how a keyboard extensions is meant to integrate with the currently active app."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, there may come a time when you have to type into a text field "},{"type":"emphasis","inlineContent":[{"type":"text","text":"inside"}]},{"type":"text","text":" the keyboard instead of sending the text to the main app, for instance to implement in-keyboard search."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For this to work, you need a way to route the text so it stays within your keyboard instead of being sent to the main app. KeyboardKit makes this kind of text routing easy to implement."}]},{"anchor":"How-to-route-text-with-KeyboardKit","level":2,"type":"heading","text":"How to route text with KeyboardKit"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To route text to a text field within the keyboard, KeyboardKit has a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy"},{"type":"text","text":" that can be used to route text to any custom "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy\/TextInput"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController"},{"type":"text","text":" then has a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textInputProxy"},{"type":"text","text":", that when set causes "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textDocumentProxy"},{"type":"text","text":" to return it instead of the standard text document proxy."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can always access the standard text document proxy with "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/mainTextDocumentProxy"},{"type":"text","text":", even when a custom proxy has been set."}]},{"anchor":"Auto-routing-text-input-views","level":2,"type":"heading","text":"Auto-routing text input views"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To make routing even easier, KeyboardKit has text input views that automatically register and unregister themselves as the text input proxy when they receive and lose focus."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextField"},{"type":"text","text":" wraps a "},{"type":"codeVoice","code":"UITextField"},{"type":"text","text":" and can be used for single-line text inputs."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextView"},{"type":"text","text":" wraps a "},{"type":"codeVoice","code":"UITextView"},{"type":"text","text":" and can be used for multi-line text inputs."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both views also support SwiftUI "},{"type":"codeVoice","code":"FocusState"},{"type":"text","text":" and have a "},{"type":"codeVoice","code":"focused"},{"type":"text","text":" view modifier that lets you provide a custom done button that slides in when the view is focused."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/keyboardkit\/routing"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Routing","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This article describes the KeyboardKit text routing engine."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Routing","role":"article","modules":[{"name":"KeyboardKit"}]},"hierarchy":{"paths":[["doc:\/\/KeyboardKit\/documentation\/KeyboardKit"]]},"seeAlsoSections":[{"title":"Articles","identifiers":["doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Actions","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Autocomplete","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Callouts","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Dictation","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Emojis","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/External-Keyboards","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Feedback","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Gestures","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Layout","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Localization","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Previews","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Proxy-Extensions","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Settings","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Styling"],"generated":true}],"references":{"doc://KeyboardKit/documentation/KeyboardKit/KeyboardTextField":{"role":"symbol","title":"KeyboardTextField","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardTextField"}],"abstract":[{"type":"text","text":"This text field can be used within a keyboard extension."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextField","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardTextField"}],"url":"\/documentation\/keyboardkit\/keyboardtextfield"},"doc://KeyboardKit/documentation/KeyboardKit/TextInputProxy/TextInput":{"role":"symbol","title":"TextInputProxy.TextInput","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextInput"}],"abstract":[],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy\/TextInput","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TextInput"}],"url":"\/documentation\/keyboardkit\/textinputproxy\/textinput"},"doc://KeyboardKit/documentation/KeyboardKit/TextInputProxy":{"role":"symbol","title":"TextInputProxy","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextInputProxy"}],"abstract":[{"type":"text","text":"This class can be used to route text from an app to another"},{"type":"text","text":" "},{"type":"text","text":"text field, for instance in keyboard extension itself."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TextInputProxy"}],"url":"\/documentation\/keyboardkit\/textinputproxy"},"doc://KeyboardKit/documentation/KeyboardKit/Localization":{"role":"article","title":"Localization","abstract":[{"type":"text","text":"This article describes the KeyboardKit localization engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Localization","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/localization"},"doc://KeyboardKit/documentation/KeyboardKit/Settings":{"role":"article","title":"Settings","abstract":[{"type":"text","text":"This article describes the KeyboardKit settings engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Settings","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/settings"},"doc://KeyboardKit/documentation/KeyboardKit/Autocomplete":{"role":"article","title":"Autocomplete","abstract":[{"type":"text","text":"This article describes the KeyboardKit autocomplete engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Autocomplete","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/autocomplete"},"doc://KeyboardKit/documentation/KeyboardKit/Feedback":{"role":"article","title":"Feedback","abstract":[{"type":"text","text":"This article describes the KeyboardKit feedback engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Feedback","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/feedback"},"doc://KeyboardKit/documentation/KeyboardKit/Previews":{"role":"article","title":"Previews","abstract":[{"type":"text","text":"This article describes the KeyboardKit preview engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Previews","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/previews"},"doc://KeyboardKit/documentation/KeyboardKit/Proxy-Extensions":{"role":"article","title":"Proxy Extensions","abstract":[{"type":"text","text":"This article describes the KeyboardKit "},{"type":"codeVoice","code":"UITextDocumentProxy"},{"type":"text","text":" extension engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Proxy-Extensions","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/proxy-extensions"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/textInputProxy":{"role":"symbol","title":"textInputProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"textInputProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TextInputProxy","preciseIdentifier":"c:@M@KeyboardKit@objc(cs)TextInputProxy"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"A custom text input proxy, to which text can be routed."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textInputProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/textinputproxy"},"doc://KeyboardKit/documentation/KeyboardKit/Actions":{"role":"article","title":"Actions","abstract":[{"type":"text","text":"This article describes the KeyboardKit action engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Actions","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/actions"},"doc://KeyboardKit/documentation/KeyboardKit/Layout":{"role":"article","title":"Layout","abstract":[{"type":"text","text":"This article describes the KeyboardKit layout engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Layout","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/layout"},"doc://KeyboardKit/documentation/KeyboardKit/Styling":{"role":"article","title":"Styling","abstract":[{"type":"text","text":"This article describes the KeyboardKit styling engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Styling","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/styling"},"doc://KeyboardKit/documentation/KeyboardKit":{"role":"collection","title":"KeyboardKit","abstract":[{"type":"text","text":"KeyboardKit helps you build custom keyboards with Swift and SwiftUI."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit"},"doc://KeyboardKit/documentation/KeyboardKit/Gestures":{"role":"article","title":"Gestures","abstract":[{"type":"text","text":"This article describes the KeyboardKit gesture engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Gestures","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/gestures"},"doc://KeyboardKit/documentation/KeyboardKit/Dictation":{"role":"article","title":"Dictation [BETA]","abstract":[{"type":"text","text":"This article describes the KeyboardKit dictation engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Dictation","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/dictation"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/textDocumentProxy":{"role":"symbol","title":"textDocumentProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"textDocumentProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UITextDocumentProxy","preciseIdentifier":"c:objc(pl)UITextDocumentProxy"}],"abstract":[{"type":"text","text":"The text document proxy to use."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textDocumentProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/textdocumentproxy"},"doc://KeyboardKit/documentation/KeyboardKit/Callouts":{"role":"article","title":"Callouts","abstract":[{"type":"text","text":"This article describes the KeyboardKit callout engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Callouts","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/callouts"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/mainTextDocumentProxy":{"role":"symbol","title":"mainTextDocumentProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"mainTextDocumentProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UITextDocumentProxy","preciseIdentifier":"c:objc(pl)UITextDocumentProxy"}],"abstract":[{"type":"text","text":"The original text document proxy."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/mainTextDocumentProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/maintextdocumentproxy"},"doc://KeyboardKit/documentation/KeyboardKit/External-Keyboards":{"role":"article","title":"External Keyboards","abstract":[{"type":"text","text":"This article describes the KeyboardKit external keyboard engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/External-Keyboards","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/external-keyboards"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardTextView":{"role":"symbol","title":"KeyboardTextView","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardTextView"}],"abstract":[{"type":"text","text":"This text view can be used within a keyboard extension."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextView","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardTextView"}],"url":"\/documentation\/keyboardkit\/keyboardtextview"},"doc://KeyboardKit/documentation/KeyboardKit/Emojis":{"role":"article","title":"Emojis","abstract":[{"type":"text","text":"This article describes the KeyboardKit emoji engine."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Emojis","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/emojis"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController":{"role":"symbol","title":"KeyboardInputViewController","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardInputViewController"}],"abstract":[{"type":"text","text":"This class extends "},{"type":"codeVoice","code":"UIInputViewController"},{"type":"text","text":" with KeyboardKit"},{"type":"text","text":" "},{"type":"text","text":"specific functionality."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardInputViewController"}],"url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller"}}}